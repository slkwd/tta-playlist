/* ============================================================
 * 1) "Add to playlist" button on individual players
 * ============================================================ */

/* Wrapper for each track embed (usually created by Template:FeaturedTunes) */
.tta-track-embed {
    position: relative;
    display: inline-block !important; /* shrink to content, not full width */
    width: auto !important;          /* override any width:100% coming from elsewhere */
    max-width: 100%;                 /* safety on narrow screens */
    padding-right: 32px;             /* space between player and "+" button */
    min-height: 40px;                /* stable minimum height */
}

/* Clearfix to contain floating audio/figure elements */
.tta-track-embed::after {
    content: "";
    display: block;
    clear: both;
}

/* Absolutely positioned wrapper that holds the green "+" button */
.tta-add-to-playlist-wrapper {
    position: absolute;
    top: 50%;
    right: 8px;
    transform: translateY(-50%);
    margin: 0;
    text-align: right;
    pointer-events: auto;
}

/* Green circular "+" button */
.tta-add-to-playlist {
    width: 24px;
    height: 24px;
    border-radius: 999px;
    border: 0;
    background: #2ecc71;
    color: #fff;
    font-size: 16px;
    font-weight: bold;
    line-height: 1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);
}

.tta-add-to-playlist:hover {
    background: #27ae60;
}

.tta-add-to-playlist:focus {
    outline: none;
    box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.05),
        0 0 0 2px rgba(46, 204, 113, 0.4);
}

/* ============================================================
 * 2) Owner bar above personal playlists
 *    "Your playlist     +    ⋮"
 * ============================================================ */

/* Horizontal owner bar above the playlist */
.tta-playlist-ownerbar {
    display: flex;
    align-items: baseline;   /* align label and buttons on one visual line */
    padding: 0 22px;         /* align "Your playlist" with the card cover */
    margin: 4px 0;
    font-size: 0.9em;
}

/* "Your playlist" label */
.tta-playlist-ownerbar-label {
    opacity: 0.8;
}

/* Small inline toolbar with "+" and "⋮" */
.tta-playlist-menu-container {
    display: inline-flex;
    align-items: baseline;
    column-gap: 8px;    /* real distance between "+" and "⋮" */
    margin-left: 18px;  /* space between label and buttons */
}

/* Remove extra OOUI margins around buttons inside the toolbar */
.tta-playlist-menu-container .oo-ui-widget,
.tta-playlist-menu-container .oo-ui-buttonWidget,
.tta-playlist-menu-container .oo-ui-buttonElement {
    margin: 0 !important;
}

/* Make the underlying <a> look bare (no chrome) */
.tta-playlist-menu-container .oo-ui-buttonElement-button {
    padding: 0 !important;
    border: 0 !important;
    background: none !important;
    min-width: auto !important;
    line-height: 1;
    position: relative;
    top: 4px; /* micro vertical tweak for nicer alignment with label */
}

/* Hide OOUI default icons/indicators; only textual symbols "+" and "⋮" remain */
.tta-playlist-menu-container .oo-ui-iconElement-icon,
.tta-playlist-menu-container .oo-ui-indicatorElement-indicator {
    display: none !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* "+" and "⋮" visual style */
.tta-playlist-menu-container .oo-ui-labelElement-label {
    padding: 0 !important;
    margin: 0 !important;
    font-size: 14px;
    font-weight: 400;
    opacity: 0.8;
}

/* Very light hover feedback on the tiny toolbar */
.tta-playlist-add-button .oo-ui-buttonElement-button:hover,
.tta-playlist-menu-button .oo-ui-buttonElement-button:hover {
    background: rgba(0, 0, 0, 0.03);
    border-radius: 4px;
}

/* ============================================================
 * 3) Popup menu (⋮) for "Save order / Rename / Remove / Delete"
 * ============================================================ */

/* Ensure the OOUI popup sits above the player area */
.tta-playlist-menu-container .oo-ui-popupWidget {
    z-index: 10;
}

/* Inner popup menu container rendered by the gadget */
.tta-playlist-popup .tta-playlist-menu {
    display: flex;
    flex-direction: column;
    min-width: 240px;
    padding: 4px 0; /* small top/bottom breathing space like in Teams */
}

/* Each menu item wrapper block */
.tta-playlist-popup .tta-playlist-menu .tta-playlist-menu-item {
    display: block;
}

/* Base OOUI button for each menu item */
.tta-playlist-popup .tta-playlist-menu .oo-ui-buttonWidget {
    margin: 0;
}

/* Full-width clickable area for each menu item */
.tta-playlist-popup .tta-playlist-menu .tta-playlist-menu-item .oo-ui-buttonElement-button {
    width: 100%;
    text-align: left;
    border: 0;
    border-radius: 0;
    background: transparent;
    box-shadow: none;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    box-sizing: border-box;
    padding: 6px 18px !important; /* MAIN INDENT: 6px vertical, 18px horizontal */
}

/* Icon slot (here used only for simple textual symbols like ✏, ☆, ✕) */
.tta-playlist-popup .tta-playlist-menu .oo-ui-iconElement-icon {
    flex: 0 0 20px;
    margin-right: 8px;
}

/* Text label: normal weight, flex-grow to take remaining space */
.tta-playlist-popup .tta-playlist-menu .oo-ui-labelElement-label {
    flex: 1 1 auto;
    font-weight: 400;
}

/* Hover/focus row style: light gray background */
.tta-playlist-popup .tta-playlist-menu .tta-playlist-menu-item .oo-ui-buttonElement-button:hover,
.tta-playlist-popup .tta-playlist-menu .tta-playlist-menu-item .oo-ui-buttonElement-button:focus {
    background-color: #f3f3f3 !important;
}

/* Slightly darker text on hover */
.tta-playlist-popup .tta-playlist-menu .tta-playlist-menu-item .oo-ui-buttonElement-button:hover
    .oo-ui-labelElement-label {
    color: #202122;
}

/* Generic playlist menu item style (shared hook) */
.tta-playlist-menu .tta-playlist-menu-item {
    display: block;
}

/* Hidden artwork span used only as a DOM hook */
.tta-artwork {
    display: none;
}